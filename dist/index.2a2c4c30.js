function t(t,e){this.prices={products:.5,orders:.25,package:{basic:0,professional:25,premium:60},accounting:35,terminal:5},this.form={products:t.querySelector("#products"),orders:t.querySelector("#orders"),package:t.querySelector("#package"),accounting:t.querySelector("#accounting"),terminal:t.querySelector("#terminal")},this.summary={list:e.querySelector("ul"),items:e.querySelector("ul").children,total:{container:e.querySelector("#total-price"),price:e.querySelector(".total__price")}},this.addEvents()}t.prototype.addEvents=function(){this.form.products.addEventListener("change",this.inputEvent.bind(this)),this.form.products.addEventListener("keyup",this.inputEvent.bind(this)),this.form.orders.addEventListener("change",this.inputEvent.bind(this)),this.form.orders.addEventListener("keyup",this.inputEvent.bind(this)),this.form.package.addEventListener("click",this.selectEvent.bind(this)),this.form.accounting.addEventListener("change",this.checkboxEvent.bind(this)),this.form.terminal.addEventListener("change",this.checkboxEvent.bind(this))},t.prototype.updateTotal=function(){let t=this.summary.list.querySelectorAll(".open").length>0;if(t){let t=this.form.products.value<0?0:this.form.products.value*this.prices.products,e=this.form.orders.value<0?0:this.form.orders.value*this.prices.orders,r=0===this.form.package.dataset.value.length?0:this.prices.package[this.form.package.dataset.value],i=this.form.accounting.checked?this.prices.accounting:0,s=this.form.terminal.checked?this.prices.terminal:0;this.summary.total.price.innerText="$"+(t+e+r+i+s),this.summary.total.container.classList.add("open")}else this.summary.total.container.classList.remove("open");this.updateTotal()},t.prototype.updateSummary=function(t,e,r,i){let s=this.summary.list.querySelector("[data-id="+t+"]"),a=s.querySelector(".item__calc"),n=s.querySelector(".item__price");s.classList.add("open"),null!==a&&(a.innerText=e),n.innerText="$"+r,"function"==typeof i&&i(s,a,n)},t.prototype.inputEvent=function(t){let e=t.currentTarget.id,r=t.currentTarget.value,i=this.prices[e],s=r*i;this.updateSummary(e,r+"*$"+i,s,function(t,e,i){r<0&&(e.innerHTML=null,i.innerText="Value should be greater than 0"),0===r.length&&t.classList.remove("open")}),this.updateTotal()},t.prototype.selectEvent=function(t){this.form.package.classList.toggle("open");let e=void 0!==t.target.dataset.value?t.target.dataset.value:"",r=void 0!==t.target.dataset.value?t.target.innerText:"Choose package";e.length>0&&(this.form.package.dataset.value=e,this.form.package.querySelector(".select__input").innerText=r,this.updateSummary("package",r,this.prices.package[e]),this.updateTotal())},t.prototype.checkboxEvent=function(t){let e=t.currentTarget,r=e.id,i=t.currentTarget.checked;this.updateSummary(r,void 0,this.prices[r],function(t){i||t.classList.remove("open")}),this.updateTotal()};
//# sourceMappingURL=index.2a2c4c30.js.map
